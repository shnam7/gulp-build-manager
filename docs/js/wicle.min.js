System.register("core/types",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("utils/utils",[],function(t,e){"use strict";e&&e.id;return t("getViewporSize",function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}}),{setters:[],execute:function(){}}}),System.register("core/MediaQuery",["utils/utils"],function(t,e){"use strict";var i,n;e&&e.id;return{setters:[function(t){i=t}],execute:function(){n=function(){function t(e,i){void 0===e&&(e=t.BreakPoints.Foundation),void 0===i&&(i={}),this.init(e,i),this.startMediaChangeDetection()}return t.prototype.init=function(e,n){void 0===n&&(n={}),this.breakPoints=$.extend({},e),this.options=$.extend(!0,{},t.defaultOptions,n),this.prevWidth=i.getViewporSize().width,this.prevState=this.getMQState(this.prevWidth)},t.prototype.setBreakPoints=function(e){if("string"==typeof e){if(!t.BreakPoints[e])return void console.log("[Wicle:MediaQuery] Unknown breakPoints name:",e);this.breakPoints=t.BreakPoints[e]}else Object.assign(this.breakPoints,e)},t.prototype.startMediaChangeDetection=function(){var e=this,n=0,a=function(a){n&&clearTimeout(n),n=setTimeout(function(){var n=i.getViewporSize().width,a=e.mqStateOf(n);a!=e.prevState&&(console.debug("resize:","MQ:width="+n+", state="+a+", prevState="+e.prevState),window.dispatchEvent(new CustomEvent(t.mqStateChangedEventName,{detail:{state:a,prevState:e.prevState,breakPoints:e.breakPoints,width:n,prevWidth:e.prevWidth,direction:n>e.prevWidth?"up":"down"}})),e.prevWidth=n,e.prevState=a)}),a.stopPropagation()};$(window).off("resize",a).on("resize",a)},t.prototype.mqStateOf=function(t){var e;for(e in this.breakPoints)if(this.breakPoints.hasOwnProperty(e)&&t<this.breakPoints[e])return e;return e},t.prototype.getMQState=function(t){return t||(t=i.getViewporSize().width),this.mqStateOf(t)},t.defaultOptions={resizeEventDelay:100},t.BreakPoints={Foundation:{mini:0,small:320,medium:640,large:1024,xlarge:1200,xxlarge:1440},SemanticUI:{mini:0,phone:320,tablet:768,computer:992,largeMonitor:1200,wideMonitor:1920},UIKit:{mini:0,small:480,medium:768,large:960,xlarge:1220},BootStrap:{xs:0,sm:576,md:768,lg:992,xl:1200},Simple:{mobile:0,computer:960},Basic:{small:0,medium:768,large:960}},t.mqStateChangedEventName="mqstatechanged",t}(),t("default",n)}}}),System.register("ui/Nav",[],function(t,e){"use strict";var i;e&&e.id;return{setters:[],execute:function(){i=function(){function t(e,i){void 0===i&&(i={});var n=this;this.flipHandler=function(t){$(".w-nav").find("[aria-flip]").removeAttr("aria-flip")},this.mqChangeHandler=function(t){var e=t.detail.width,i=t.detail.prevWidth,a=n.options.breakPoint;n.classes.indexOf("wo-responsive")<0||(console.debug("mqChanged:",t.detail),e>=a&&i<a&&(console.log("state=",t.detail.state,"chanjge to normal"),n.options.mqChangeToNormal&&n.options.mqChangeToNormal(n,t)),e<a&&i>=a&&(console.log("state=",t.detail.state,"change to mobile"),n.options.mqChangeToMobile&&n.options.mqChangeToMobile(n,t)))},this.accordionClickEventHandler=function(t){t.stopPropagation(),t.preventDefault();var e=n.options,i=$(t.target),a=i.attr("href"),r=(i=i.parent()).children(".w-nav-child"),o=i.find(".w-nav-child");r.length>0&&("none"===r.css("display")?(r.slideDown(e.speed).siblings("a").addClass("aria-state-active"),e.singleOpen&&i.siblings().find(".w-nav-child").slideUp(e.speed).end().find("a").removeClass("aria-state-active")):o.delay(e.hideDelay).slideUp(e.speed).siblings("a").removeClass("aria-state-active")),e.parentLink&&a&&(window.location.href=a)},this.element=e,this.options=$.extend(!0,{},t.defaultOptions,i),this.create()}return t.prototype.create=function(){var e=$(this.element);$.data(this.element,"w-nav",this),this.classes=e.attr("class"),e.addClass("w-nav").find("li").addClass("w-nav-item").children("a,div").addClass("w-nav-item-wrapper"),e.filter(".wo-dropdown,.wo-default,.wo-accordion").find("ul").addClass("w-nav-child").parent().addClass("w-nav-parent"),e.find(".w-nav-parent").children(".w-nav-item-wrapper").each(function(t,e){var i=$(e);i.hasClass("wo-icon")||i.parent().parent().hasClass("wo-icon")||0===i.children(".w-nav-parent-marker").length&&i.append('<span class="w-nav-parent-marker">')});var i=e.filter(".wo-dropdown, .wo-default");i.find(".w-nav-item").each(function(t,e){var i=$(e);/^[\-\u2014\u2013]+/.test(i.text())&&i.addClass("w-nav-divider")}),i.find(".w-nav-parent").off("mouseenter").on("mouseenter",function(){var t=$(this).children(".w-nav-child"),e=t.get(0).getBoundingClientRect(),i=void 0;e.right>=document.body.clientWidth&&(i="x"),e.bottom>=window.innerHeight&&(i+="y"),i&&t.attr("aria-flip",i)});var n=e.filter(".wo-accordion");n.find(".w-nav-item-wrapper").each(function(t,e){var i=$(e);0===i.children(".w-nav-accordion-click-area").length&&i.after($('<span class="w-nav-accordion-click-area"></span>'))}),e.find(".w-state-active").addClass("aria-state-active"),n.find(".w-nav-item-wrapper,.w-nav-accordion-click-area").off("click",this.accordionClickEventHandler).on("click",this.accordionClickEventHandler),$(window).off("resize",this.flipHandler).on("resize",this.flipHandler),(this.options.mqChangeToNormal||this.options.mqChangeToMobile)&&(window.removeEventListener(t.mqStateChangedEventName,this.mqChangeHandler),window.addEventListener(t.mqStateChangedEventName,this.mqChangeHandler))},t.prototype.destroy=function(){var e=$(this.element);e.find(t.dynamicElements).remove(),e.find(t.dynamicClasses).removeClass(t.dynamicClasses),$(window).off("resize",this.flipHandler),window.removeEventListener(t.mqStateChangedEventName,this.mqChangeHandler),e.filter(".wo-accordion").find(".w-nav-parent,.w-nav-accordion-click-area").off("click"),$.removeData(this.element,"w-nav")},t.start=function(e,i){void 0===i&&(i={}),$(e).each(function(e,n){new t(n,i)})},t.defaultOptions={speed:200,showDelay:0,hideDelay:0,parentLink:!1,singleOpen:!1,breakPoint:640,mqChangeToMobile:void 0,mqChangeToNormal:void 0},t.dynamicClasses="w-nav,w-nav-item,w-nav-item-wrapperw-nav-parent,w-nav-child,w-nav-divideraria-flip, aria-state-active",t.dynamicElements="w-nav-parent-marker,w-nav-accordion-click-area",t.mqStateChangedEventName="mqstatechanged",t}(),t("default",i)}}}),System.register("ui/Parallax",[],function(t,e){"use strict";var i,n;e&&e.id;return{setters:[],execute:function(){i=function(){function t(t,e){var i=this;this.content=t,this.surface=[],this.perspective=e,this.lastPerspective=1,$(t).on("scroll",function(t){i.onContainerScroll(t)})}return t.prototype.onContainerScroll=function(t){for(var e=$(this.content).scrollTop(),i=0,n=this.surface;i<n.length;i++){n[i].scroll(-e)}},t.prototype.addSurface=function(t){0==this.surface.length?t.perspective<=0&&(t.perspective=1):(t.perspective<=0&&(t.perspective=this.perspective),t.perspective*=this.lastPerspective),this.lastPerspective=t.perspective,this.surface.push(t)},t}(),t("Container",i),n=function(){function t(t,e){void 0===e&&(e=0),this.perspective=e,this.content=t,$(t).css({position:"fixed",transform:"translate3d(0, 0, 0)"})}return t.prototype.scroll=function(t){$(this.content).css({transform:"translate3d(0, "+t*this.perspective+"px, 0)"})},t}(),t("Surface",n)}}}),System.register("wicle",["core/MediaQuery","ui/Nav","ui/Parallax"],function(t,e){"use strict";var i,n,a,r;e&&e.id;return{setters:[function(t){i=t},function(t){n=t},function(t){a=t}],execute:function(){r=new i.default,t("default",{get mq(){return r},nav:function(t,e){void 0===e&&(e={}),n.default.start(t,e)},Parallax:a})}}}),String.prototype.trimLeft=function(t){return void 0===t&&(t="\\s"),this.replace(new RegExp("^["+t+"]+"),"").toString()},String.prototype.trimRight=function(t){return void 0===t&&(t="\\s"),this.replace(new RegExp("["+t+"]+$"),"").toString()},String.prototype.trimBoth=function(t){return this.trimLeft(t).trimRight(t)},String.prototype.trimAll=function(t){return void 0===t&&(t="\\s"),this.replace(new RegExp("["+t+"]+","g"),"")},String.prototype.startsWith=function(t){return this.slice(0,t.length)==t},String.prototype.endsWith=function(t){return this.slice(-t.length)==t},String.prototype.parseOptions=function(t){void 0===t&&(t=";");var e=this.trimBoth("{}"+t).trim(),i={};return e.split(t).forEach(function(t){var e=t.indexOf(":"),n=t.substring(0,e).trim(),a=t.substring(e+1).trim();i[n]=a.startsWith("{")?a.parseOptions(","):function(t){if(!t)return null;if("true"===t)return!0;if("false"===t)return!1;var e=Number(t);return isNaN(e)?t.trimBoth("'\""):e}(a)}),i};
//# sourceMappingURL=wicle.min.js.map
